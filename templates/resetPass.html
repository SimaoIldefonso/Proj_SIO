<!-- /*
* Bootstrap 5
* Template Name: Furni
* Template Author: Untree.co
* Template URI: https://untree.co/
* License: https://creativecommons.org/licenses/by/3.0/
*/ -->
<!doctype html>
<html lang="pt-pt">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="author" content="Untree.co">
    <link rel="shortcut icon" href="../static/images/shopicon.png">
    <meta name="description" content="" />
    <meta name="keywords" content="bootstrap, bootstrap4" />

    <!-- Bootstrap CSS -->
    <link href="../static/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
    <link href="../static/css/tiny-slider.css" rel="stylesheet">
    <link href="../static/css/style.css" rel="stylesheet">

    <title>DETShop</title>
    <script>
        function checkPasswordStrength() {
            var password = document.getElementById("password").value;
            var strengthIndicator = document.getElementById("password-strength");

            // Check password strength and update the indicator
            var strength = 0;
            if (password.match(/[a-z]/)) {
                strength += 1;
            }
            if (password.match(/[A-Z]/)) {
                strength += 1;
            }
            if (password.match(/[0-9]/)) {
                strength += 1;
            }
            if (password.match(/[$@#&!-+]/)) {
                strength += 1;
            }

            if (password.length >= 8 && strength >= 3) {
                strengthIndicator.innerHTML = "Strong";
                strengthIndicator.style.color = "green";
            } else if (password.length >= 6 && strength >= 2) {
                strengthIndicator.innerHTML = "Medium";
                strengthIndicator.style.color = "orange";
            } else {
                strengthIndicator.innerHTML = "Weak";
                strengthIndicator.style.color = "red";
            }
        }
        function togglePasswordVisibility(inputId, buttonId) {
            var passwordInput = document.getElementById(inputId);
            var passwordVisibilityBtn = document.getElementById(buttonId);

            if (passwordInput.type === "password") {
                passwordInput.type = "text";
                passwordVisibilityBtn.innerHTML = '<i class="fas fa-eye-slash"></i>';
            } else {
                passwordInput.type = "password";
                passwordVisibilityBtn.innerHTML = '<i class="fas fa-eye"></i>';
            }
        }
    </script>
</head>

<body>

    <!-- Start Header/Navigation -->
    <nav class="custom-navbar navbar navbar navbar-expand-md navbar-dark bg-dark" arial-label="Furni navigation bar">

        <div class="container">
            <a class="navbar-brand" href="/">DETShop<span>.</span></a>

            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarsFurni"
                aria-controls="navbarsFurni" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>

            <div class="collapse navbar-collapse" id="navbarsFurni">
                <ul class="custom-navbar-nav navbar-nav ms-auto mb-2 mb-md-0">
                    <li class="nav-item active">
                        <a class="nav-link" href="/">Home</a>
                    </li>
                    <li><a class="nav-link" href="shop">Shop</a></li>
                    <li><a class="nav-link" href="about">About us</a></li>
                </ul>

                <ul class="custom-navbar-cta navbar-nav mb-2 mb-md-0 ms-5">
                    <li><a class="nav-link" href="profile"><img src="../static/images/user.svg"></a></li>
                    <li><a class="nav-link" href="cart"><img src="../static/images/cart.svg"></a></li>
                </ul>
            </div>
        </div>

    </nav>
    <!-- End Header/Navigation -->

    <!-- Start Hero Section -->
    <div class="hero">
        <div class="container">
            <h1>Reset Password</h1>
        </div>
    </div>
    <!-- End Hero Section -->

    <!-- Start Profile Section -->

    <div class="container">
        <!-- Start Profile Section -->
        <div class="product-section">
            <div class="container">
                <div class="col-12 col-md-4 col-lg-6 mb-5 mb-md-0">
                    {% with messages = get_flashed_messages(with_categories=true) %}
                    {% if messages %}
                    {% for category, message in messages %}
                    <div class="alert alert-{{ category }}">
                        {{ message }}
                    </div>
                    {% endfor %}
                    {% endif %}
                    {% endwith %}

                    <form action="/reset_password/{{username}}" method="POST">
                        <label for="password">New password: </label><br>
                        <input type="password" id="password" class="form-control" name="password"
                            onkeyup="checkPasswordStrength()" required>
                        <div id="password-strength"></div> 
                        <button id="cpassword" type="button" class="show-password-btn"
                            onclick="togglePasswordVisibility('password','cpassword')"><i
                                class="fas fa-eye"></i></button><br>

                        <br>
                        <label for="confirm_password">Confirm new password: </label><br>
                        <input type="password" id="confirm_password" class="form-control" name="confirm_password"
                            required>
                        <button id="npassword" type="button" class="show-password-btn"
                            onclick="togglePasswordVisibility('confirm_password','npassword')"><i
                                class="fas fa-eye"></i></button><br>
                        <br>
                        <input class="btn btn-primary" type="submit" value="Redefinir">
                    </form>
                    <br>
                </div>
            </div>
        </div>
        <!-- End Profile Section -->

    </div>

    <!-- End Profile Section -->

    <!-- Start Footer Section -->
    <footer class="footer-section">
        <div class="container relative">

            <div class="row g-5 mb-5">
                <div class="col-lg-4">
                    <div class="mb-4 footer-logo-wrap"><a href="/" class="footer-logo">DETShop<span>.</span></a></div>
                    <p class="mb-4"></p>

                    <ul class="list-unstyled custom-social">
                        <li><a href="#"><span class="fa fa-brands fa-facebook-f"></span></a></li>
                        <li><a href="#"><span class="fa fa-brands fa-twitter"></span></a></li>
                        <li><a href="#"><span class="fa fa-brands fa-instagram"></span></a></li>
                        <li><a href="#"><span class="fa fa-brands fa-linkedin"></span></a></li>
                    </ul>
                </div>

                <div class="col-lg-8">
                    <div class="row links-wrap">
                        <div class="col-6 col-sm-6 col-md-3">
                            <ul class="list-unstyled">
                                <li>About us</li>
                            </ul>
                        </div>

                        <div class="col-6 col-sm-6 col-md-3">
                            <ul class="list-unstyled">
                                <li>Support</li>
                            </ul>
                        </div>

                        <div class="col-6 col-sm-6 col-md-3">
                            <ul class="list-unstyled">
                                <li>Privacy Policy</li>
                            </ul>
                        </div>

                        <div class="col-6 col-sm-6 col-md-3">
                            <ul class="list-unstyled">
                                <li>Contact Us</li>
                            </ul>
                        </div>
                    </div>
                </div>

            </div>

            <div class="border-top copyright">
                <div class="row pt-4">
                    <div class="col-lg-6">
                        <p class="mb-2 text-center text-lg-start">Copyright &copy;
                            <script>document.write(new Date().getFullYear());</script>. All Rights Reserved. &mdash;
                            Designed with love by <a href="https://untree.co">Untree.co</a> Distributed By <a
                                hreff="https://themewagon.com">ThemeWagon</a>
                            <!-- License information: https://untree.co/license/ -->
                        </p>
                    </div>

                    <div class="col-lg-6 text-center text-lg-end">
                        <ul class="list-unstyled d-inline-flex ms-auto">
                            <li class="me-4">Terms &amp; Conditions</li>
                            <li>Privacy Policy</li>
                        </ul>
                    </div>

                </div>
            </div>

        </div>
    </footer>
    <!-- End Footer Section -->


    <script src="../static/js/bootstrap.bundle.min.js"></script>
    <script src="../static/js/tiny-slider.js"></script>
    <script src="../static/js/custom.js"></script>
</body>

</html>